import argparse
from math import pi
from typing import Iterable
import numpy as np
import cv2

RGB_CODES = [
    (0, 162, 255),
    (0, 161, 255),
    (0, 160, 255),
    (0, 159, 255),
    (0, 158, 255),
    (0, 157, 255),
    (0, 156, 255),
    (0, 155, 255),
    (0, 154, 255),
    (0, 153, 255),
    (0, 152, 255),
    (0, 151, 255),
    (0, 150, 255),
    (0, 149, 255),
    (0, 148, 255),
    (0, 147, 255),
    (0, 146, 255),
    (0, 145, 255),
    (0, 144, 255),
    (0, 143, 255),
    (0, 142, 255),
    (0, 141, 255),
    (0, 140, 255),
    (0, 139, 255),
    (0, 138, 255),
    (0, 137, 255),
    (0, 136, 255),
    (0, 135, 255),
    (0, 134, 255),
    (0, 133, 255),
    (0, 132, 255),
    (0, 131, 255),
    (0, 130, 255),
    (0, 129, 255),
    (0, 128, 255),
    (0, 129, 254),
    (0, 130, 253),
    (0, 131, 252),
    (0, 132, 251),
    (0, 133, 250),
    (0, 134, 249),
    (0, 135, 248),
    (0, 136, 247),
    (0, 137, 246),
    (0, 138, 245),
    (0, 139, 244),
    (0, 140, 243),
    (0, 141, 242),
    (0, 142, 241),
    (0, 143, 240),
    (0, 144, 239),
    (0, 145, 238),
    (0, 146, 237),
    (0, 147, 236),
    (0, 148, 235),
    (0, 149, 234),
    (0, 150, 233),
    (0, 151, 232),
    (0, 152, 231),
    (0, 153, 230),
    (0, 154, 229),
    (0, 155, 228),
    (0, 156, 227),
    (0, 157, 226),
    (0, 158, 225),
    (0, 159, 224),
    (0, 160, 223),
    (0, 161, 222),
    (0, 162, 221),
    (0, 163, 220),
    (0, 164, 219),
    (0, 165, 218),
    (0, 166, 217),
    (0, 167, 216),
    (0, 168, 215),
    (0, 169, 214),
    (0, 170, 213),
    (0, 171, 212),
    (0, 172, 211),
    (0, 173, 210),
    (0, 174, 209),
    (0, 175, 208),
    (0, 176, 207),
    (0, 177, 206),
    (0, 178, 205),
    (0, 179, 204),
    (0, 180, 203),
    (0, 181, 202),
    (0, 182, 201),
    (0, 183, 200),
    (0, 184, 199),
    (0, 185, 198),
    (0, 186, 197),
    (0, 187, 196),
    (0, 188, 195),
    (0, 189, 194),
    (0, 190, 193),
    (0, 191, 192),
    (0, 192, 191),
    (0, 193, 190),
    (0, 194, 189),
    (0, 195, 188),
    (0, 196, 187),
    (0, 197, 186),
    (0, 198, 185),
    (0, 199, 184),
    (0, 200, 183),
    (0, 201, 182),
    (0, 202, 181),
    (0, 203, 180),
    (0, 204, 179),
    (0, 205, 178),
    (0, 206, 177),
    (0, 207, 176),
    (0, 208, 175),
    (0, 209, 174),
    (0, 210, 173),
    (0, 211, 172),
    (0, 212, 171),
    (0, 213, 170),
    (0, 214, 169),
    (0, 215, 168),
    (0, 216, 167),
    (0, 217, 166),
    (0, 218, 165),
    (0, 219, 164),
    (0, 220, 163),
    (0, 221, 162),
    (0, 222, 161),
    (0, 223, 160),
    (0, 224, 159),
    (0, 225, 158),
    (0, 226, 157),
    (0, 227, 156),
    (0, 228, 155),
    (0, 229, 154),
    (0, 230, 153),
    (0, 231, 152),
    (0, 232, 151),
    (0, 233, 150),
    (0, 234, 149),
    (0, 235, 148),
    (0, 236, 147),
    (0, 237, 146),
    (0, 238, 145),
    (0, 239, 144),
    (0, 240, 143),
    (0, 241, 142),
    (0, 242, 141),
    (0, 243, 140),
    (0, 244, 139),
    (0, 245, 138),
    (0, 246, 137),
    (0, 247, 136),
    (0, 248, 135),
    (0, 249, 134),
    (0, 250, 133),
    (0, 251, 132),
    (0, 252, 131),
    (0, 253, 130),
    (0, 254, 129),
    (0, 255, 128),
    (1, 254, 129),
    (2, 253, 130),
    (3, 252, 131),
    (4, 251, 132),
    (5, 250, 133),
    (6, 249, 134),
    (7, 248, 135),
    (8, 247, 136),
    (9, 246, 137),
    (10, 245, 138),
    (11, 244, 139),
    (12, 243, 140),
    (13, 242, 141),
    (14, 241, 142),
    (15, 240, 143),
    (16, 239, 144),
    (17, 238, 145),
    (18, 237, 146),
    (19, 236, 147),
    (20, 235, 148),
    (21, 234, 149),
    (22, 233, 150),
    (23, 232, 151),
    (24, 231, 152),
    (25, 230, 153),
    (26, 229, 154),
    (27, 228, 155),
    (28, 227, 156),
    (29, 226, 157),
    (30, 225, 158),
    (31, 224, 159),
    (32, 223, 160),
    (33, 222, 161),
    (34, 221, 162),
    (35, 220, 163),
    (36, 219, 164),
    (37, 218, 165),
    (38, 217, 166),
    (39, 216, 167),
    (40, 215, 168),
    (41, 214, 169),
    (42, 213, 170),
    (43, 212, 171),
    (44, 211, 172),
    (45, 210, 173),
    (46, 209, 174),
    (47, 208, 175),
    (48, 207, 176),
    (49, 206, 177),
    (50, 205, 178),
    (51, 204, 179),
    (52, 203, 180),
    (53, 202, 181),
    (54, 201, 182),
    (55, 200, 183),
    (56, 199, 184),
    (57, 198, 185),
    (58, 197, 186),
    (59, 196, 187),
    (60, 195, 188),
    (61, 194, 189),
    (62, 193, 190),
    (63, 192, 191),
    (64, 191, 192),
    (64, 190, 193),
    (64, 189, 194),
    (64, 188, 195),
    (64, 187, 196),
    (64, 186, 197),
    (64, 185, 198),
    (64, 184, 199),
    (64, 183, 200),
    (64, 182, 201),
    (64, 181, 202),
    (64, 180, 203),
    (64, 179, 204),
    (64, 178, 205),
    (64, 177, 206),
    (64, 176, 207),
    (64, 175, 208),
    (64, 174, 209),
    (64, 173, 210),
    (64, 172, 211),
    (64, 171, 212),
    (64, 170, 213),
    (64, 169, 214),
    (64, 168, 215),
    (64, 167, 216),
    (64, 166, 217),
    (64, 165, 218),
    (64, 164, 219),
    (64, 163, 220),
    (64, 162, 221),
    (64, 161, 222),
    (64, 160, 223),
    (64, 159, 224),
    (64, 158, 225),
    (64, 157, 226),
    (64, 156, 227),
    (64, 155, 228),
    (64, 154, 229),
    (64, 153, 230),
    (64, 152, 231),
    (64, 151, 232),
    (64, 150, 233),
    (64, 149, 234),
    (64, 148, 235),
    (64, 147, 236),
    (64, 146, 237),
    (64, 145, 238),
    (64, 144, 239),
    (64, 143, 240),
    (64, 142, 241),
    (64, 141, 242),
    (64, 140, 243),
    (64, 139, 244),
    (64, 138, 245),
    (64, 137, 246),
    (64, 136, 247),
    (64, 135, 248),
    (64, 134, 249),
    (64, 133, 250),
    (64, 132, 251),
    (64, 131, 252),
    (64, 130, 253),
    (64, 129, 254),
    (64, 128, 255),
    (64, 127, 255),
    (64, 126, 255),
    (64, 125, 255),
    (64, 124, 255),
    (64, 123, 255),
    (64, 122, 255),
    (64, 121, 255),
    (64, 120, 255),
    (64, 119, 255),
    (64, 118, 255),
    (64, 117, 255),
    (64, 116, 255),
    (64, 115, 255),
    (64, 114, 255),
    (64, 113, 255),
    (64, 112, 255),
    (64, 111, 255),
    (64, 110, 255),
    (64, 109, 255),
    (64, 108, 255),
    (64, 107, 255),
    (64, 106, 255),
    (64, 105, 255),
    (64, 104, 255),
    (64, 103, 255),
    (64, 102, 255),
    (64, 101, 255),
    (64, 100, 255),
    (64, 99, 255),
    (64, 98, 255),
    (64, 97, 255),
    (64, 96, 255),
    (64, 95, 255),
    (64, 94, 255),
    (64, 93, 255),
    (64, 92, 255),
    (64, 91, 255),
    (64, 90, 255),
    (64, 89, 255),
    (64, 88, 255),
    (64, 87, 255),
    (64, 86, 255),
    (64, 85, 255),
    (64, 84, 255),
    (64, 83, 255),
    (64, 82, 255),
    (64, 81, 255),
    (64, 80, 255),
    (64, 79, 255),
    (64, 78, 255),
    (64, 77, 255),
    (64, 76, 255),
    (64, 75, 255),
    (64, 74, 255),
    (64, 73, 255),
    (64, 72, 255),
    (64, 71, 255),
    (64, 70, 255),
    (64, 69, 255),
    (64, 68, 255),
    (64, 67, 255),
    (64, 66, 255),
    (64, 65, 255),
    (64, 64, 255),
    (64, 63, 255),
    (64, 62, 255),
    (64, 61, 255),
    (64, 60, 255),
    (64, 59, 255),
    (64, 58, 255),
    (64, 57, 255),
    (64, 56, 255),
    (64, 55, 255),
    (64, 54, 255),
    (64, 53, 255),
    (64, 52, 255),
    (64, 51, 255),
    (64, 50, 255),
    (64, 49, 255),
    (64, 48, 255),
    (64, 47, 255),
    (64, 46, 255),
    (64, 45, 255),
    (64, 44, 255),
    (64, 43, 255),
    (64, 42, 255),
    (64, 41, 255),
    (64, 40, 255),
    (64, 39, 255),
    (64, 38, 255),
    (64, 37, 255),
    (64, 36, 255),
    (64, 35, 255),
    (64, 34, 255),
    (64, 33, 255),
    (64, 32, 255),
    (64, 31, 255),
    (64, 30, 255),
    (64, 29, 255),
    (64, 28, 255),
    (64, 27, 255),
    (64, 26, 255),
    (64, 25, 255),
    (64, 24, 255),
    (64, 23, 255),
    (64, 22, 255),
    (64, 21, 255),
    (64, 20, 255),
    (64, 19, 255),
    (64, 18, 255),
    (64, 17, 255),
    (64, 16, 255),
    (64, 15, 255),
    (64, 14, 255),
    (64, 13, 255),
    (64, 12, 255),
    (64, 11, 255),
    (64, 10, 255),
    (64, 9, 255),
    (64, 8, 255),
    (64, 7, 255),
    (64, 6, 255),
    (64, 5, 255),
    (64, 4, 255),
    (64, 3, 255),
    (64, 2, 255),
    (64, 1, 255),
    (64, 0, 255),
    (63, 1, 255),
    (62, 2, 255),
    (61, 3, 255),
    (60, 4, 255),
    (59, 5, 255),
    (58, 6, 255),
    (57, 7, 255),
    (56, 8, 255),
    (55, 9, 255),
    (54, 10, 255),
    (53, 11, 255),
    (52, 12, 255),
    (51, 13, 255),
    (50, 14, 255),
    (49, 15, 255),
    (48, 16, 255),
    (47, 17, 255),
    (46, 18, 255),
    (45, 19, 255),
    (44, 20, 255),
    (43, 21, 255),
    (42, 22, 255),
    (41, 23, 255),
    (40, 24, 255),
    (39, 25, 255),
    (38, 26, 255),
    (37, 27, 255),
    (36, 28, 255),
    (35, 29, 255),
    (34, 30, 255),
    (33, 31, 255),
    (32, 32, 255),
    (31, 33, 255),
    (30, 34, 255),
    (29, 35, 255),
    (28, 36, 255),
    (27, 37, 255),
    (26, 38, 255),
    (25, 39, 255),
    (24, 40, 255),
    (23, 41, 255),
    (22, 42, 255),
    (21, 43, 255),
    (20, 44, 255),
    (19, 45, 255),
    (18, 46, 255),
    (17, 47, 255),
    (16, 48, 255),
    (15, 49, 255),
    (14, 50, 255),
    (13, 51, 255),
    (12, 52, 255),
    (11, 53, 255),
    (10, 54, 255),
    (9, 55, 255),
    (8, 56, 255),
    (7, 57, 255),
    (6, 58, 255),
    (5, 59, 255),
    (4, 60, 255),
    (3, 61, 255),
    (2, 62, 255),
    (1, 63, 255),
    (0, 64, 255),
    (0, 65, 254),
    (0, 66, 253),
    (0, 67, 252),
    (0, 68, 251),
    (0, 69, 250),
    (0, 70, 249),
    (0, 71, 248),
    (0, 72, 247),
    (0, 73, 246),
    (0, 74, 245),
    (0, 75, 244),
    (0, 76, 243),
    (0, 77, 242),
    (0, 78, 241),
    (0, 79, 240),
    (0, 80, 239),
    (0, 81, 238),
    (0, 82, 237),
    (0, 83, 236),
    (0, 84, 235),
    (0, 85, 234),
    (0, 86, 233),
    (0, 87, 232),
    (0, 88, 231),
    (0, 89, 230),
    (0, 90, 229),
    (0, 91, 228),
    (0, 92, 227),
    (0, 93, 226),
    (0, 94, 225),
    (0, 95, 224),
    (0, 96, 223),
    (0, 97, 222),
    (0, 98, 221),
    (0, 99, 220),
    (0, 100, 219),
    (0, 101, 218),
    (0, 102, 217),
    (0, 103, 216),
    (0, 104, 215),
    (0, 105, 214),
    (0, 106, 213),
    (0, 107, 212),
    (0, 108, 211),
    (0, 109, 210),
    (0, 110, 209),
    (0, 111, 208),
    (0, 112, 207),
    (0, 113, 206),
    (0, 114, 205),
    (0, 115, 204),
    (0, 116, 203),
    (0, 117, 202),
    (0, 118, 201),
    (0, 119, 200),
    (0, 120, 199),
    (0, 121, 198),
    (0, 122, 197),
    (0, 123, 196),
    (0, 124, 195),
    (0, 125, 194),
    (0, 126, 193),
    (0, 127, 192),
    (0, 128, 191),
    (0, 129, 190),
    (0, 130, 189),
    (0, 131, 188),
    (0, 132, 187),
    (0, 133, 186),
    (0, 134, 185),
    (0, 135, 184),
    (0, 136, 183),
    (0, 137, 182),
    (0, 138, 181),
    (0, 139, 180),
    (0, 140, 179),
    (0, 141, 178),
    (0, 142, 177),
    (0, 143, 176),
    (0, 144, 175),
    (0, 145, 174),
    (0, 146, 173),
    (0, 147, 172),
    (0, 148, 171),
    (0, 149, 170),
    (0, 150, 169),
    (0, 151, 168),
    (0, 152, 167),
    (0, 153, 166),
    (0, 154, 165),
    (0, 155, 164),
    (0, 156, 163),
    (0, 157, 162),
    (0, 158, 161),
    (0, 159, 160),
    (0, 160, 159),
    (0, 161, 158),
    (0, 162, 157),
    (0, 163, 156),
    (0, 164, 155),
    (0, 165, 154),
    (0, 166, 153),
    (0, 167, 152),
    (0, 168, 151),
    (0, 169, 150),
    (0, 170, 149),
    (0, 171, 148),
    (0, 172, 147),
    (0, 173, 146),
    (0, 174, 145),
    (0, 175, 144),
    (0, 176, 143),
    (0, 177, 142),
    (0, 178, 141),
    (0, 179, 140),
    (0, 180, 139),
    (0, 181, 138),
    (0, 182, 137),
    (0, 183, 136),
    (0, 184, 135),
    (0, 185, 134),
    (0, 186, 133),
    (0, 187, 132),
    (0, 188, 131),
    (0, 189, 130),
    (0, 190, 129),
    (0, 191, 128),
    (0, 192, 127),
    (0, 193, 126),
    (0, 194, 125),
    (0, 195, 124),
    (0, 196, 123),
    (0, 197, 122),
    (0, 198, 121),
    (0, 199, 120),
    (0, 200, 119),
    (0, 201, 118),
    (0, 202, 117),
    (0, 203, 116),
    (0, 204, 115),
    (0, 205, 114),
    (0, 206, 113),
    (0, 207, 112),
    (0, 208, 111),
    (0, 209, 110),
    (0, 210, 109),
    (0, 211, 108),
    (0, 212, 107),
    (0, 213, 106),
    (0, 214, 105),
    (0, 215, 104),
    (0, 216, 103),
    (0, 217, 102),
    (0, 218, 101),
    (0, 219, 100),
    (0, 220, 99),
    (0, 221, 98),
    (0, 222, 97),
    (0, 223, 96),
    (0, 224, 95),
    (0, 225, 94),
    (0, 226, 93),
    (0, 227, 92),
    (0, 228, 91),
    (0, 229, 90),
    (0, 230, 89),
    (0, 231, 88),
    (0, 232, 87),
    (0, 233, 86),
    (0, 234, 85),
    (0, 235, 84),
    (0, 236, 83),
    (0, 237, 82),
    (0, 238, 81),
    (0, 239, 80),
    (0, 240, 79),
    (0, 241, 78),
    (0, 242, 77),
    (0, 243, 76),
    (0, 244, 75),
    (0, 245, 74),
    (0, 246, 73),
    (0, 247, 72),
    (0, 248, 71),
    (0, 249, 70),
    (0, 250, 69),
    (0, 251, 68),
    (0, 252, 67),
    (0, 253, 66),
    (0, 254, 65),
    (0, 255, 64),
    (0, 255, 65),
    (0, 255, 66),
    (0, 255, 67),
    (0, 255, 68),
    (0, 255, 69),
    (0, 255, 70),
    (0, 255, 71),
    (0, 255, 72),
    (0, 255, 73),
    (0, 255, 74),
    (0, 255, 75),
    (0, 255, 76),
    (0, 255, 77),
    (0, 255, 78),
    (0, 255, 79),
    (0, 255, 80),
    (0, 255, 81),
    (0, 255, 82),
    (0, 255, 83),
    (0, 255, 84),
    (0, 255, 85),
    (0, 255, 86),
    (0, 255, 87),
    (0, 255, 88),
    (0, 255, 89),
    (0, 255, 90),
    (0, 255, 91),
    (0, 255, 92),
    (0, 255, 93),
    (0, 255, 94),
    (0, 255, 95),
    (0, 255, 96),
    (0, 255, 97),
    (0, 255, 98),
    (0, 255, 99),
    (0, 255, 100),
    (0, 255, 101),
    (0, 255, 102),
    (0, 255, 103),
    (0, 255, 104),
    (0, 255, 105),
    (0, 255, 106),
    (0, 255, 107),
    (0, 255, 108),
    (0, 255, 109),
    (0, 255, 110),
    (0, 255, 111),
    (0, 255, 112),
    (0, 255, 113),
    (0, 255, 114),
    (0, 255, 115),
    (0, 255, 116),
    (0, 255, 117),
    (0, 255, 118),
    (0, 255, 119),
    (0, 255, 120),
    (0, 255, 121),
    (0, 255, 122),
    (0, 255, 123),
    (0, 255, 124),
    (0, 255, 125),
    (0, 255, 126),
    (0, 255, 127),
    (0, 255, 128),
    (0, 255, 129),
    (0, 255, 130),
    (0, 255, 131),
    (0, 255, 132),
    (0, 255, 133),
    (0, 255, 134),
    (0, 255, 135),
    (0, 255, 136),
    (0, 255, 137),
    (0, 255, 138),
    (0, 255, 139),
    (0, 255, 140),
    (0, 255, 141),
    (0, 255, 142),
    (0, 255, 143),
    (0, 255, 144),
    (0, 255, 145),
    (0, 255, 146),
    (0, 255, 147),
    (0, 255, 148),
    (0, 255, 149),
    (0, 255, 150),
    (0, 255, 151),
    (0, 255, 152),
    (0, 255, 153),
    (0, 255, 154),
    (0, 255, 155),
    (0, 255, 156),
    (0, 255, 157),
    (0, 255, 158),
    (0, 255, 159),
    (0, 255, 160),
    (0, 255, 161),
    (0, 255, 162),
    (0, 255, 163),
    (0, 255, 164),
    (0, 255, 165),
    (0, 255, 166),
    (0, 255, 167),
    (0, 255, 168),
    (0, 255, 169),
    (0, 255, 170),
    (0, 255, 171),
    (0, 255, 172),
    (0, 255, 173),
    (0, 255, 174),
    (0, 255, 175),
    (0, 255, 176),
    (0, 255, 177),
    (0, 255, 178),
    (0, 255, 179),
    (0, 255, 180),
    (0, 255, 181),
    (0, 255, 182),
    (0, 255, 183),
    (0, 255, 184),
    (0, 255, 185),
    (0, 255, 186),
    (0, 255, 187),
    (0, 255, 188),
    (0, 255, 189),
    (0, 255, 190),
    (0, 255, 191),
    (0, 255, 192),
    (0, 255, 193),
    (0, 255, 194),
    (0, 255, 195),
    (0, 255, 196),
    (0, 255, 197),
    (0, 255, 198),
    (0, 255, 199),
    (0, 255, 200),
    (0, 255, 201),
    (0, 255, 202),
    (0, 255, 203),
    (0, 255, 204),
    (0, 255, 205),
    (0, 255, 206),
    (0, 255, 207),
    (0, 255, 208),
    (0, 255, 209),
    (0, 255, 210),
    (0, 255, 211),
    (0, 255, 212),
    (0, 255, 213),
    (0, 255, 214),
    (0, 255, 215),
    (0, 255, 216),
    (0, 255, 217),
    (0, 255, 218),
    (0, 255, 219),
    (0, 255, 220),
    (0, 255, 221),
    (0, 255, 222),
    (0, 255, 223),
    (0, 255, 224),
    (0, 255, 225),
    (0, 255, 226),
    (0, 255, 227),
    (0, 255, 228),
    (0, 255, 229),
    (0, 255, 230),
    (0, 255, 231),
    (0, 255, 232),
    (0, 255, 233),
    (0, 255, 234),
    (0, 255, 235),
    (0, 255, 236),
    (0, 255, 237),
    (0, 255, 238),
    (0, 255, 239),
    (0, 255, 240),
    (0, 255, 241),
    (0, 255, 242),
    (0, 255, 243),
    (0, 255, 244),
    (0, 255, 245),
    (0, 255, 246),
    (0, 255, 247),
    (0, 255, 248),
    (0, 255, 249),
    (0, 255, 250),
    (0, 255, 251),
    (0, 255, 252),
    (0, 255, 253),
    (0, 255, 254),
    (0, 255, 255),
    (0, 254, 255),
    (0, 253, 255),
    (0, 252, 255),
    (0, 251, 255),
    (0, 250, 255),
    (0, 249, 255),
    (0, 248, 255),
    (0, 247, 255),
    (0, 246, 255),
    (0, 245, 255),
    (0, 244, 255),
    (0, 243, 255),
    (0, 242, 255),
    (0, 241, 255),
    (0, 240, 255),
    (0, 239, 255),
    (0, 238, 255),
    (0, 237, 255),
    (0, 236, 255),
    (0, 235, 255),
    (0, 234, 255),
    (0, 233, 255),
    (0, 232, 255),
    (0, 231, 255),
    (0, 230, 255),
    (0, 229, 255),
    (0, 228, 255),
    (0, 227, 255),
    (0, 226, 255),
    (0, 225, 255),
    (0, 224, 255),
    (0, 223, 255),
    (0, 222, 255),
    (0, 221, 255),
    (0, 220, 255),
    (0, 219, 255),
    (0, 218, 255),
    (0, 217, 255),
    (0, 216, 255),
    (0, 215, 255),
    (0, 214, 255),
    (0, 213, 255),
    (0, 212, 255),
    (0, 211, 255),
    (0, 210, 255),
    (0, 209, 255),
    (0, 208, 255),
    (0, 207, 255),
    (0, 206, 255),
    (0, 205, 255),
    (0, 204, 255),
    (0, 203, 255),
    (0, 202, 255),
    (0, 201, 255),
    (0, 200, 255),
    (0, 199, 255),
    (0, 198, 255),
    (0, 197, 255),
    (0, 196, 255),
    (0, 195, 255),
    (0, 194, 255),
    (0, 193, 255),
    (0, 192, 255),
    (0, 191, 255),
    (0, 190, 255),
    (0, 189, 255),
    (0, 188, 255),
    (0, 187, 255),
    (0, 186, 255),
    (0, 185, 255),
    (0, 184, 255),
    (0, 183, 255),
    (0, 182, 255),
    (0, 181, 255),
    (0, 180, 255),
    (0, 179, 255),
    (0, 178, 255),
    (0, 177, 255),
    (0, 176, 255),
    (0, 175, 255),
    (0, 174, 255),
    (0, 173, 255),
    (0, 172, 255),
    (0, 171, 255),
    (0, 170, 255),
    (0, 169, 255),
    (0, 168, 255),
    (0, 167, 255),
    (0, 166, 255),
    (0, 165, 255),
    (0, 164, 255),
    (0, 163, 255),
]

def get_offsets(num_leds: int) -> Iterable[int]:
    ANGLE_OFFSETS = [
        (0*pi/3, 0),
        (1*pi/3, 63),
        (2*pi/3, 318),
        (3*pi/3, 445),
        (4*pi/3, 572),
        (5*pi/3, 763),
        (6*pi/3, 955),
    ]
    i = 0
    for n in range(num_leds):
        alpha = n/num_leds * 2 * pi
        while alpha > ANGLE_OFFSETS[i+1][0]:
            i += 1
        a_lo, o_lo = ANGLE_OFFSETS[i]
        a_hi, o_hi = ANGLE_OFFSETS[i+1]
        t = (alpha - a_lo) / (a_hi - a_lo)
        yield round((1 - t) * o_lo + t * o_hi)


def generate_image(offsets: Iterable[int]):
    im = np.zeros(shape=(955, 240, 3), dtype=np.uint8)
    width = 240 // len(offsets)
    for i, offset in enumerate(offsets):
        col_s, col_e = i * width, (i + 1) * width
        for j in range(len(RGB_CODES)):
            im[j, col_s:col_e] = RGB_CODES[(j + offset) % len(RGB_CODES)][::-1]
    cv2.imwrite('test.png', im)


def main():
    parser = argparse.ArgumentParser()
    parser.add_argument('-n', '--num-leds', type=int, default=6)
    parser.add_argument('-r', '--num-reps', type=int, default=1)
    parser.add_argument('-o', '--output-format', choices=['png', 'rgb'])
    args = parser.parse_args()

    offsets = list(get_offsets(args.num_leds))
    generate_image(offsets)


if __name__ == '__main__':
    main()
